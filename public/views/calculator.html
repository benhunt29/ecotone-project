<div ng-controller="calcCtrl">
    <md-content>
        <h1 class="md-title">Reuse Calculator</h1>
        <form name="calcForm">
            <div layout="row">
                <h2 class="md-title">Choose Material: </h2>
                <md-input-container>
                    <label>Major Category</label>
                    <md-select ng-model="major">
                        <md-option ng-repeat="major in majors" value="{{major}}">{{major}}</md-option>
                    </md-select>
                </md-input-container>
                <md-input-container>
                    <label>Sub Category</label>
                    <md-select ng-model="sub">
                        <md-optgroup label="Optional Group 1">
                            <md-option ng-repeat="sub in subs | filter: {group: 'group1'}" ng-value="sub.material">{{sub.material}}</md-option>
                        </md-optgroup>
                        <md-optgroup label="Optional Group 2">
                            <md-option ng-repeat="sub in subs | filter: {group: 'group2'}" ng-value="sub.material">{{sub.material}}</md-option>
                        </md-optgroup>
                    </md-select>
                </md-input-container>
            </div>

            <div layout="row">
                <h2 class="md-title">Enter Weight: </h2>
                <md-input-container>
                    <label>Weight</label>
                    <input ng-model="weight" type="text" required>
                </md-input-container>
                <md-input-container>
                    <label>Unit</label>
                    <md-select ng-model="unit">
                        <md-option ng-repeat="unit in units" value="{{unit}}">{{unit}}</md-option>
                    </md-select>
                </md-input-container>
            </div>
            <div>
                <p ng-if="sub && weight">You saved {{calculation}} of CO2 emissions!</p>
            </div>
        </form>
    </md-content>
</div>


<div ng-controller="calculateCtrl" layout="column" ng-cloak>
    <h2>Calculate Your CO2 Offset</h2>
    <!-- New Project Info -->
    <form ng-submit="$event.preventDefault()">
        <md-content class="md-padding" layout-padding layout="row" layout-sm="column">
            <!--  <md-input-container flex> -->
            <!-- Autocomplete -->
            <md-autocomplete
                    md-selected-item="data.category"
                    md-search-text="searchText"
                    md-selected-item-change="selectedItemChange(item)"
                    md-items="item in querySearch(searchText)"
                    md-item-text="item.category"
                    md-min-length="0"
                    placeholder="Select a material type">
                <md-item-template>
                    <span md-highlight-text="searchText" md-highlight-flags="^i">{{item.category}}</span>
                </md-item-template>
                <md-not-found>
                    No matches found for "{{searchText}}".
                </md-not-found>
            </md-autocomplete>
        </md-content>
        <md-content layout-padding layout="row" layout-sm="column">
            <md-input-container flex>
                <label>Subcategory</label>
                <input ng-model="calculate.subcategory" type="string">
            </md-input-container>
        </md-content>
        <md-content layout-padding layout="row" layout-sm="column">
            <md-input-container flex>
                <label>Weight</label>
                <input ng-model="calculate.description" type="string">
            </md-input-container>
        </md-content>
        <md-content layout-padding layout="row" layout-sm="column">
            <md-input-container flex>
                <label>Units</label>
                <input ng-model="calculate.description" type="string">
            </md-input-container>
        </md-content>
        <md-content layout-padding layout="row" layout-sm="column">
            <md-button class="md-primary md-raised" ng-click= "newCalculation(calculate)" type="submit" value="Save">Submit</md-button>
        </md-content>
        <md-content layout-padding layout="row" layout-sm="column">
            <p>Your Estimated CO2 Savings are (123) (units)</p>
        </md-content>
    </form>
</div>